<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>FlowLib: src/FlowLib_kernel.cu File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>src/FlowLib_kernel.cu File Reference</h1><code>#include &lt;math_constants.h&gt;</code><br>
<code>#include &lt;cutil_math.h&gt;</code><br>

<p>
<div class="dynheader">
Include dependency graph for FlowLib_kernel.cu:</div>
<div class="dynsection">
<p><center><img src="FlowLib__kernel_8cu__incl.png" border="0" usemap="#src/FlowLib_kernel.cu_map" alt=""></center>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="FlowLib__kernel_8cu__dep__incl.png" border="0" usemap="#src/FlowLib_kernel.cudep_map" alt=""></center>
<map name="src/FlowLib_kernel.cudep_map">
<area shape="rect" href="FlowLibTVL1__kernel_8cu.html" title="src/FlowLibTVL1_kernel.cu" alt="" coords="5,80,184,107"><area shape="rect" href="FlowLib_8cu.html" title="src/FlowLib.cu" alt="" coords="235,229,339,256"><area shape="rect" href="FlowLibSOL1__kernel_8cu.html" title="src/FlowLibSOL1_kernel.cu" alt="" coords="208,80,387,107"><area shape="rect" href="FlowLibTVL1_8cu.html" title="src/FlowLibTVL1.cu" alt="" coords="37,155,173,181"><area shape="rect" href="FlowLibSOL1_8cu.html" title="src/FlowLibSOL1.cu" alt="" coords="217,155,356,181"></map>
</div>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#e71449b1cc6e6250b91f539153a7a0d3">M_PI</a>&nbsp;&nbsp;&nbsp;3.14159265358979323846</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">__device__ float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#695bf8415c3d0c8a8046c154d4ac6bf3">interpolate</a> (const float *input_global, float x, float y, int width, int height, size_t stride)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#7d94f64c0f71f5c560ceaf8b0b26f8f7">combineFlowKernel</a> (float *flow, float *dx, float *dy, unsigned int cf_width, unsigned int cf_height, unsigned int cf_stride, unsigned int dxy_width, unsigned int dxy_height, unsigned int dxy_stride)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#b2170500d25cca556e66b92a01bbe3a2">getColorFlowFieldKernel</a> (float *color_flow, float *dx, float *dy, unsigned int cf_width, unsigned int cf_height, unsigned int cf_stride, unsigned cf_channel_stride, unsigned int dxy_width, unsigned int dxy_height, unsigned int dxy_stride, unsigned int gradient_length, float max_rad)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#31502a3c1dc436acaf037020b6af854f">getDisplayableFlowKernel</a> (unsigned char *out, float *in, unsigned int out_width, unsigned int out_height, unsigned int out_stride, unsigned int in_width, unsigned int in_height, unsigned int in_stride)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#c64c37a1bca4c7cbe0731aded72f9509">reduceKernel</a> (float *input, float *output, int width_in, int height_in, size_t pitch_in, int width_out, int height_out, size_t pitch_out)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#bc5bd510f67e6162da89daff0caacc09">texReduceKernel</a> (float *output, int o_width, int o_height, size_t o_stride, float sx, float sy)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#c01c7bf3ca55784b8265725fc789110e">expandKernel</a> (float *in1, float *out1, float *in2, float *out2, int width_in, int height_in, size_t stride_in, int width_out, int height_out, size_t stride_out, bool scale_values)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#174bf2328354a7bb0b791117d65b5063">texExpandKernel</a> (float *out, int width_out, int height_out, size_t stride_out, float sx, float sy, float weight)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">__global__ void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#4d073ca234d921d0af54aec347a52356">warpImageKernel</a> (float *input, float *dx, float *dy, float *warped, int width, int height, size_t stride)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">texture&lt; float, <br class="typebreak">
1, cudaReadModeElementType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#7f04510851ea20cc036b723e81e2b060">CudaFlowLib__gradient_texture__</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">texture&lt; float1, <br class="typebreak">
2, cudaReadModeElementType &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="FlowLib__kernel_8cu.html#926b8028e0d80e59457e8274435eba80">expand_reduce_texture__</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="e71449b1cc6e6250b91f539153a7a0d3"></a><!-- doxytag: member="FlowLib_kernel.cu::M_PI" ref="e71449b1cc6e6250b91f539153a7a0d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M_PI&nbsp;&nbsp;&nbsp;3.14159265358979323846          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7d94f64c0f71f5c560ceaf8b0b26f8f7"></a><!-- doxytag: member="FlowLib_kernel.cu::combineFlowKernel" ref="7d94f64c0f71f5c560ceaf8b0b26f8f7" args="(float *flow, float *dx, float *dy, unsigned int cf_width, unsigned int cf_height, unsigned int cf_stride, unsigned int dxy_width, unsigned int dxy_height, unsigned int dxy_stride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void combineFlowKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cf_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cf_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cf_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dxy_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dxy_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dxy_stride</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates sqrt(dx*dx+dy*dy) to get the max_rad value to display the flow field <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>flow</em>&nbsp;</td><td>'combined' flow field </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dx</em>&nbsp;</td><td>disparity field dx (u)f </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dy</em>&nbsp;</td><td>disparity field dy (u) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f_width</em>&nbsp;</td><td>width of the flow output </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f_height</em>&nbsp;</td><td>height of the flow output </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f_stride</em>&nbsp;</td><td>stride of the flow output </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dxy_width</em>&nbsp;</td><td>width of the input disparity fields </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dxy_height</em>&nbsp;</td><td>height of the input disparity fields </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dxy_stride</em>&nbsp;</td><td>stride of the input disparity fields </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c01c7bf3ca55784b8265725fc789110e"></a><!-- doxytag: member="FlowLib_kernel.cu::expandKernel" ref="c01c7bf3ca55784b8265725fc789110e" args="(float *in1, float *out1, float *in2, float *out2, int width_in, int height_in, size_t stride_in, int width_out, int height_out, size_t stride_out, bool scale_values)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void expandKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>in1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>out1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>in2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>out2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stride_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stride_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>scale_values</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Expands two device variables (e.g. flow field x and y direction) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>expanded output image expanded dual variable p11 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width_in</em>&nbsp;</td><td>width of input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height_in</em>&nbsp;</td><td>height of input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stride_in</em>&nbsp;</td><td>stride for input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width_out</em>&nbsp;</td><td>width of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height_out</em>&nbsp;</td><td>height of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stride_out</em>&nbsp;</td><td>stride for output image </td></tr>
  </table>
</dl>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="FlowLib__kernel_8cu_c01c7bf3ca55784b8265725fc789110e_cgraph.png" border="0" usemap="#FlowLib__kernel_8cu_c01c7bf3ca55784b8265725fc789110e_cgraph_map" alt=""></center>
<map name="FlowLib__kernel_8cu_c01c7bf3ca55784b8265725fc789110e_cgraph_map">
<area shape="rect" href="FlowLib__kernel_8cu.html#695bf8415c3d0c8a8046c154d4ac6bf3" title="interpolate" alt="" coords="156,5,236,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="b2170500d25cca556e66b92a01bbe3a2"></a><!-- doxytag: member="FlowLib_kernel.cu::getColorFlowFieldKernel" ref="b2170500d25cca556e66b92a01bbe3a2" args="(float *color_flow, float *dx, float *dy, unsigned int cf_width, unsigned int cf_height, unsigned int cf_stride, unsigned cf_channel_stride, unsigned int dxy_width, unsigned int dxy_height, unsigned int dxy_stride, unsigned int gradient_length, float max_rad)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void getColorFlowFieldKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>color_flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cf_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cf_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>cf_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>cf_channel_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dxy_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dxy_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>dxy_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>gradient_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>max_rad</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates a planar color coded flow field (float,3) (Middlebury style) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>color_flow</em>&nbsp;</td><td>colored flow output represented as float,3 buffer </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dx</em>&nbsp;</td><td>disparity field dx (u) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dy</em>&nbsp;</td><td>disparity field dy (u) </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cf_width</em>&nbsp;</td><td>width of the colored flow output </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cf_height</em>&nbsp;</td><td>height of the colored flow output </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cf_stride</em>&nbsp;</td><td>stride of the colored flow output </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dxy_width</em>&nbsp;</td><td>width of the input disparity fields </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dxy_height</em>&nbsp;</td><td>height of the input disparity fields </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dxy_stride</em>&nbsp;</td><td>stride of the input disparity fields </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="31502a3c1dc436acaf037020b6af854f"></a><!-- doxytag: member="FlowLib_kernel.cu::getDisplayableFlowKernel" ref="31502a3c1dc436acaf037020b6af854f" args="(unsigned char *out, float *in, unsigned int out_width, unsigned int out_height, unsigned int out_stride, unsigned int in_width, unsigned int in_height, unsigned int in_stride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void getDisplayableFlowKernel           </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>out_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>out_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>out_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>in_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>in_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>in_stride</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="695bf8415c3d0c8a8046c154d4ac6bf3"></a><!-- doxytag: member="FlowLib_kernel.cu::interpolate" ref="695bf8415c3d0c8a8046c154d4ac6bf3" args="(const float *input_global, float x, float y, int width, int height, size_t stride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__device__ float interpolate           </td>
          <td>(</td>
          <td class="paramtype">const float *&nbsp;</td>
          <td class="paramname"> <em>input_global</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stride</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
clamp x to range [a, b] <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>value to be clamped </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>minimum </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>maximum Performs a bilinear interpolation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>input_global</em>&nbsp;</td><td>input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>x coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>y coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>width of image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height</em>&nbsp;</td><td>height of image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stride</em>&nbsp;</td><td>stride of image </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c64c37a1bca4c7cbe0731aded72f9509"></a><!-- doxytag: member="FlowLib_kernel.cu::reduceKernel" ref="c64c37a1bca4c7cbe0731aded72f9509" args="(float *input, float *output, int width_in, int height_in, size_t pitch_in, int width_out, int height_out, size_t pitch_out)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void reduceKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>pitch_in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>pitch_out</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reduces an image by taking only every second pixel <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>input</em>&nbsp;</td><td>input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>output</em>&nbsp;</td><td>reduced (output) image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width_in</em>&nbsp;</td><td>width of input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height_in</em>&nbsp;</td><td>height of input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch_in</em>&nbsp;</td><td>pitch for input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width_out</em>&nbsp;</td><td>width of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height_out</em>&nbsp;</td><td>height of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pitch_out</em>&nbsp;</td><td>pitch for output image </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="174bf2328354a7bb0b791117d65b5063"></a><!-- doxytag: member="FlowLib_kernel.cu::texExpandKernel" ref="174bf2328354a7bb0b791117d65b5063" args="(float *out, int width_out, int height_out, size_t stride_out, float sx, float sy, float weight)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void texExpandKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stride_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>sx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>sy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>weight</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Expands two device variables (e.g. flow field x and y direction) <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>in</em>&nbsp;</td><td>input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>out</em>&nbsp;</td><td>expanded output image expanded dual variable p11 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width_in</em>&nbsp;</td><td>width of input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height_in</em>&nbsp;</td><td>height of input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stride_in</em>&nbsp;</td><td>stride for input image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width_out</em>&nbsp;</td><td>width of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>height_out</em>&nbsp;</td><td>height of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stride_out</em>&nbsp;</td><td>stride for output image </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bc5bd510f67e6162da89daff0caacc09"></a><!-- doxytag: member="FlowLib_kernel.cu::texReduceKernel" ref="bc5bd510f67e6162da89daff0caacc09" args="(float *output, int o_width, int o_height, size_t o_stride, float sx, float sy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void texReduceKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>o_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>o_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>o_stride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>sx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>sy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reduces an image by taking only every second pixel <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>output</em>&nbsp;</td><td>reduced (output) image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o_width</em>&nbsp;</td><td>width of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o_height</em>&nbsp;</td><td>height of output image </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>o_stride</em>&nbsp;</td><td>stride for output image </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4d073ca234d921d0af54aec347a52356"></a><!-- doxytag: member="FlowLib_kernel.cu::warpImageKernel" ref="4d073ca234d921d0af54aec347a52356" args="(float *input, float *dx, float *dy, float *warped, int width, int height, size_t stride)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__global__ void warpImageKernel           </td>
          <td>(</td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>dy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&nbsp;</td>
          <td class="paramname"> <em>warped</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>stride</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Warps the image 
<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="FlowLib__kernel_8cu_4d073ca234d921d0af54aec347a52356_cgraph.png" border="0" usemap="#FlowLib__kernel_8cu_4d073ca234d921d0af54aec347a52356_cgraph_map" alt=""></center>
<map name="FlowLib__kernel_8cu_4d073ca234d921d0af54aec347a52356_cgraph_map">
<area shape="rect" href="FlowLib__kernel_8cu.html#695bf8415c3d0c8a8046c154d4ac6bf3" title="interpolate" alt="" coords="177,5,257,32"></map>
</div>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="7f04510851ea20cc036b723e81e2b060"></a><!-- doxytag: member="FlowLib_kernel.cu::CudaFlowLib__gradient_texture__" ref="7f04510851ea20cc036b723e81e2b060" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">texture&lt;float, 1, cudaReadModeElementType&gt; <a class="el" href="FlowLib__kernel_8cu.html#7f04510851ea20cc036b723e81e2b060">CudaFlowLib__gradient_texture__</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Global texture for gradient image. This texture of a color gradient image is used to create colored flow output images (e.g. Middlebury like images). This variable has to be global due to CUDA therefore do not mess with this variable. 
</div>
</div><p>
<a class="anchor" name="926b8028e0d80e59457e8274435eba80"></a><!-- doxytag: member="FlowLib_kernel.cu::expand_reduce_texture__" ref="926b8028e0d80e59457e8274435eba80" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">texture&lt;float1, 2, cudaReadModeElementType&gt; <a class="el" href="FlowLib__kernel_8cu.html#926b8028e0d80e59457e8274435eba80">expand_reduce_texture__</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Global textures for reduce/expand functions. Due to CUDA 2.2 pitched mem can be bound to textures. Cooool stuff. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jun 26 12:12:52 2009 for FlowLib by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
